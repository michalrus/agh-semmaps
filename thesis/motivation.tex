\chapter{Micro-location}
\label{cha:motivation}

% Motivation

The motivation for providing a solution to micro-location problem is\ldots \todo{motivation}

\section{Overview of existing solutions for micro-location}
\label{sec:existing-uloc}

It is worth noting, that most methods below incorporating electromagnetic signals use the law of inverse square which says that a quantity or---in this case---intensity of some field is inversely proportional to the square of the distance from the source.

\begin{equation}
	\label{eq:inverse-sq}
	I \propto \frac{1}{r^2}
\end{equation}

In this field---pun intended---also called RSSI (or Received Signal Strength Indication) \cite{Gough:RSSI}.

\begin{description}
	\item[Magnetic positioning] is a technique that uses data from smartphone's magnetic sensor, the compass. Most buildings nowadays use reinforced concrete (concrete with \todo{photo}steel bars as a skeleton). These bars affect Earth's magnetic field in a unique way \cite{Haverinen:magnetic}. Crowd sourcing may be used to map a building and, later, these maps may be used to locate a device indoors. This technique gives accuracy of 1--2 meters with confidence level of 90\%. However, it is not really that perfect, as the measurement is heavily impacted by moving metal objects inside the building such as elevators, drawer cabinets etc.
	
	\item[Inertial measurements] is a pedestrian \emph{dead reckoning} technique and as such is a subject to cumulative errors (among others). When used in a smartphone, built-in sensors---accelerometers in all three axes---provide \todo{screenshot}data from which distinct human steps in time and space can be inferred. Later, these steps are overlaid with maps that had to be previously created and user's location is guessed. Even the smallest error made early in this dead reckoning process will manifest itself in every following result, as position $i+1$ is position $i$ with data about $i$-th step added to it. Accelerometers are also pretty noticeable when it comes to battery performance. A lot more energy is being consumed when these sensors are on. Having all these three disadvantages in mind---cumulative errors, battery life and inability to automatically map a previously unknown environment---this is one of the chosen techniques used in physics-based module that provides alternatives for mediation method described in this work (see more about the module in \cref{sec:physics-module}).
	
	\item[Wi-Fi-based positioning] uses information about signal strengths of all \todo{photo}visible Wi-Fi networks at a given moment. From these strengths, using the Received Signal Strength Indication, we can infer distances to all visible access points. Positions of these are known from a previously prepare map. Using these positions and distances, user's location may be easily obtained. Again, it is possible for signal fluctuation to influence the correctness of this method. One notable realization of this method is ``Anyplace'' from researchers at the University of Cyprus \cite{Anyplace}.
	
	\item[iBeacons (via Bluetooth)] are small devices using Bluetooth LE (Low Energy) technology standardized by Apple in 2013. These devices constantly broadcast their unique identifiers to all nearby devices. UUIDs are simply 128-bit numbers usually notated in hexadecimal format, e.g. \texttt{e16d9b56-4d95-48f6-959b-4c8bf701bc6f}. Because of using LE, usually only devices in the same room as the transmitting beacon can receive the signal and by that know what room they're in. Obviously, one has to previously map UUIDs to rooms. Also, not all smartphones currently in use support Low Energy variant of Bluetooth, and thus not all are compatible. This technique is also used as one of the sources in the physics module (\cref{sec:physics-module}).
	
	\item[RFID] is an acronym for radio-frequency identification. This method is similar in its concept to iBeacons. \todo{photo?} Small chips with unique identifiers are placed in the room. RFID reader knows the mapping between chips' IDs and rooms/positions. When an ID is read, its matching room is chosen as the user's current location. One big disqualifying disadvantage is that today mobile phones are not RFID readers.
	
	\item[Grid concepts] revert the receiver and transmitter roles. A device being micro-located broadcasts its identification information, usually by using RFID technology. A large number of receivers are arranged in a grid pattern over an area under observation. Low energy of the signal guarantees that only the receivers closest to the transmitting chip will get its identification. Because of these considerations this method is not readily available for today mobile phones.
	
	\item[Angle of arrival] methods usually need to operate on an array of antennas. Each sensor in the array gets the signal at slightly different time. From this time difference of arrival---\todo{\url{https://en.wikipedia.org/wiki/File:CrossCorr_Pulse.png}?}TDOA---for the whole array, the angle of arrival can be calculated. Other solutions use highly directional receivers arrange in a circular pattern. A receiver that gets the signal, determines the angle. After having the angle measured for at least 2 distinct transmitters, in the next step, the angles are used during \todo{picture of triangulation} triangulation which, in the end, provides array's position.
	
	\item[Time of arrival] method is slightly similar to \emph{angle} of arrival. When time the signal took to get from a transmitter to a receiver is known, and so is its propagation speed, the traveled distance can be calculated straightforwardly. Transmitted signal has to encode some kind of a time marker, marking the time of sending. The main instantly visible problem here is\ldots extremely accurate time synchronization needed between the both parties. This technique is used in GPS, which is the reason for it being able to be used as a time source.
	
	\item[Ultra-wideband] (also called UWB) is radio transmission method that uses a wide part of the radio frequency spectrum and extremely low energy to transmit large amounts of data over very short distances \cite{ultra-wideband}. These short distances are of interest here, as we don't want to receive signals from other rooms. Unfortunately, modern smartphones are not compatible with this radio technology.
	
	\item[Infrared] communication requires that receivers and transmitters ``see'' each other. Thanks to that, locating based on infrared light would be confined to a single room, a desirable trait. Infrared sensors used to be popular in mobile phones, but this popularity decreased dramatically with the advent of smartphones. Nowadays, it's usable only in custom deployments.
	
	\item[Visible light communication] method is similar in its concept to the infrared-based one. One major difference is that all smartphones have visible light sensors built in, the camera. Zhang and Kavehrad propose a method for indoor localization system based on visible light LEDs \cite{Zhang:visible-light}. Its computer model is able to localize a device in two dimensions with accuracy of centimeters for a reasonably sized room. Along with localization using local warps of Earth's magnetic field, this method is one of the most promising ones. One blatant downside would be the need to lay out the diodes in all rooms being observed, while magnetic positioning works almost out-of-the-box.
	
	\item[Ultrasound] positioning offer much greater accuracy due to the fact that sound travels through air at a \emph{lot} slower speeds than light or other electromagnetic signals. The method works---similarly to RFID positioning---by having simple tags attached to to-be-located objects transmit ultrasound identifying information. Again, such a method cannot be used with currently marketed mobile devices, as these lack capabilities of projecting ultrasonic---in this case---signals with their unique IDs.
	
	\item[QR codes] (abbreviation for Quick Response codes) is a trade name for a particular type of two-dimensional barcode (see \todo{image} \ldots for an example of such code). This method of micro-location is \emph{similarly burdensome and awkward} for the user as the method proposed in this paper (more about bad User Experience in \cref{sec:user-experience}). It works by---first---having these graphical codes laid out in the observed building. Each of them is encoding either a unique identifier of the exact spot it's placed at or even just information about that location directly. Next, the user has to scan a code---take a picture, basically, and then wait for its processing---if they want to learn where exactly this code is physically placed (i.e. just read off information encoded in the QR). Downsides: a lot of preparation needed on the side of the building's management and a lot of awkward hassle for the user. It's worth noting that there exists an Internet movement among software developers aims at discouraging QR code use to the point of total elimination from public space \cite{should-i-use-qr}.
	
	\item[NFC]
\end{description}

